<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VideoChat Pro - Agora Edition üöÄ</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è Agora –≤–µ—Ä—Å–∏–∏ */
        .agora-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 1rem;
            text-align: center;
        }
        
        .agora-config {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .agora-config h3 {
            margin-top: 0;
            color: #495057;
        }
        
        .config-input {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ced4da;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        
        .channel-info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            border-radius: 6px;
            padding: 0.75rem;
            margin: 0.5rem 0;
            font-weight: 500;
            color: #0c5460;
        }
        
        .diagnostic-agora {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border: none;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .agora-advantages {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }
        
        .status-success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status-error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .status-info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ Agora Edition -->
        <div class="agora-header">
            <h1>üöÄ VideoChat Pro - Agora Edition</h1>
            <p><strong>–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π –†–æ—Å—Å–∏–∏</strong></p>
            <div style="font-size: 0.9rem; opacity: 0.9;">
                ‚úÖ –ú–¢–° ‚Ä¢ ‚úÖ –ë–∏–ª–∞–π–Ω ‚Ä¢ ‚úÖ –ú–µ–≥–∞–§–æ–Ω ‚Ä¢ ‚úÖ –¢–µ–ª–µ2
            </div>
        </div>

        <!-- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Agora -->
        <div class="agora-config">
            <h3>üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Agora</h3>
            <div style="margin-bottom: 1rem;">
                <label for="appIdInput"><strong>App ID:</strong></label>
                <input 
                    type="text" 
                    id="appIdInput" 
                    class="config-input"
                    placeholder="–í–∞—à App ID —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω!"
                    value="86d591368acb4da89f891b8db54c842a"
                >
                <button onclick="updateAgoraConfig()" style="margin-top: 0.5rem; width: 100%;" class="button">
                    üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
                </button>
            </div>
            <div class="channel-info" id="channelInfo">
                –ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω
            </div>
        </div>

        <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Agora -->
        <div class="agora-advantages">
            <h4>üéØ –ü–æ—á–µ–º—É Agora –ª—É—á—à–µ –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å–µ—Ç–µ–π:</h4>
            <ul>
                <li><strong>üöÄ –°–µ—Ä–≤–µ—Ä—ã –≤ –ú–æ—Å–∫–≤–µ</strong> - –Ω–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞</li>
                <li><strong>üì± –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–æ–±–∏–ª—å–Ω—ã—Ö</strong> - –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –±–∏—Ç—Ä–µ–π—Ç</li>
                <li><strong>üîó –£–º–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è</strong> - –æ–±—Ö–æ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤</li>
                <li><strong>‚ö° SFU –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</strong> - —Å—Ç–∞–±–∏–ª—å–Ω–µ–µ P2P</li>
                <li><strong>üõ† –ê–≤—Ç–æ–Ω–∞—Å—Ç—Ä–æ–π–∫–∞</strong> - –ø–æ–¥ —Ç–∏–ø —Å–µ—Ç–∏ –∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞</li>
            </ul>
        </div>

        <!-- –°—Ç–∞—Ç—É—Å -->
        <div id="status" class="status"></div>

        <!-- –í–∏–¥–µ–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã -->
        <div class="video-container">
            <div class="video-wrapper">
                <video id="localVideo" autoplay muted playsinline></video>
                <div class="video-label">–í—ã</div>
            </div>
            
            <div class="video-wrapper">
                <video id="remoteVideo" autoplay playsinline></video>
                <div class="video-label">–°–æ–±–µ—Å–µ–¥–Ω–∏–∫</div>
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
        <div class="controls">
            <button id="startButton" class="button start-button">
                üìû –ù–∞—á–∞—Ç—å –∑–≤–æ–Ω–æ–∫
            </button>
            <button id="hangupButton" class="button hangup-button" disabled>
                üìû –ó–∞–≤–µ—Ä—à–∏—Ç—å –∑–≤–æ–Ω–æ–∫
            </button>
            <button id="diagnosticButton" class="button diagnostic-button diagnostic-agora">
                üîç Agora –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
            </button>
        </div>

        <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ -->
        <div class="additional-controls">
            <button onclick="generateNewChannel()" class="button">
                üîÑ –ù–æ–≤—ã–π –∫–∞–Ω–∞–ª
            </button>
            <button onclick="copyChannelToClipboard()" class="button">
                üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–∞–Ω–∞–ª
            </button>
        </div>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Ä—Å–∏–∏ -->
        <div class="version-info">
            <div class="version-item">
                <strong>–í–µ—Ä—Å–∏—è:</strong> 6.0.0-AGORA
            </div>
            <div class="version-item">
                <strong>SDK:</strong> Agora RTC v4.20.0
            </div>
            <div class="version-item">
                <strong>–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è:</strong> –†–æ—Å—Å–∏–π—Å–∫–∏–µ –º–æ–±–∏–ª—å–Ω—ã–µ —Å–µ—Ç–∏
            </div>
        </div>

        <!-- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ -->
        <div class="setup-instructions" style="margin-top: 2rem; padding: 1rem; background: #fff3cd; border-radius: 8px; border: 1px solid #ffeaa7;">
            <h4>üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:</h4>
            <ol>
                <li>–ó–∞–π–¥–∏—Ç–µ –≤ <a href="https://console.agora.io" target="_blank"><strong>–∫–æ–Ω—Å–æ–ª—å Agora</strong></a></li>
                <li>–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π</li>
                <li>–°–∫–æ–ø–∏—Ä—É–π—Ç–µ <strong>App ID</strong> –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞</li>
                <li>–í—Å—Ç–∞–≤—å—Ç–µ App ID –≤ –ø–æ–ª–µ –≤—ã—à–µ –∏ –Ω–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"</li>
                <li>–ù–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –∑–≤–æ–Ω–æ–∫" –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</li>
            </ol>
            <p><strong>üí° –°–æ–≤–µ—Ç:</strong> –û—Ç–∫—Ä–æ–π—Ç–µ —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ –¥–≤—É—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∫–∞–Ω–∞–ª–æ–º –¥–ª—è –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∞!</p>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="agora-app.js"></script>
    <script>
        // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è UI
        function updateAgoraConfig() {
            const appId = document.getElementById('appIdInput').value.trim();
            
            if (!appId) {
                alert('‚ùå –í–≤–µ–¥–∏—Ç–µ App ID!');
                return;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
            AGORA_CONFIG.APP_ID = appId;
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –Ω–æ–≤—ã–π –∫–∞–Ω–∞–ª
            AGORA_CONFIG.CHANNEL = 'videochat-' + Math.random().toString(36).substr(2, 9);
            
            // –û–±–Ω–æ–≤–ª—è–µ–º UI
            document.getElementById('channelInfo').textContent = '–ö–∞–Ω–∞–ª: ' + AGORA_CONFIG.CHANNEL;
            
            showStatus('‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Agora —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!', 'success');
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage –¥–ª—è —Å–ª–µ–¥—É—é—â–∏—Ö —Å–µ—Å—Å–∏–π
            localStorage.setItem('agora_app_id', appId);
            localStorage.setItem('agora_channel', AGORA_CONFIG.CHANNEL);
        }
        
        function generateNewChannel() {
            AGORA_CONFIG.CHANNEL = 'videochat-' + Math.random().toString(36).substr(2, 9);
            document.getElementById('channelInfo').textContent = '–ö–∞–Ω–∞–ª: ' + AGORA_CONFIG.CHANNEL;
            localStorage.setItem('agora_channel', AGORA_CONFIG.CHANNEL);
            showStatus('üîÑ –ù–æ–≤—ã–π –∫–∞–Ω–∞–ª —Å–æ–∑–¥–∞–Ω!', 'info');
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        document.addEventListener('DOMContentLoaded', () => {
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π App ID
            const presetAppId = '86d591368acb4da89f891b8db54c842a';
            const savedChannel = localStorage.getItem('agora_channel') || AGORA_CONFIG.CHANNEL;
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º App ID
            document.getElementById('appIdInput').value = presetAppId;
            AGORA_CONFIG.APP_ID = presetAppId;
            localStorage.setItem('agora_app_id', presetAppId);
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∫–∞–Ω–∞–ª
            AGORA_CONFIG.CHANNEL = savedChannel;
            document.getElementById('channelInfo').textContent = '–ö–∞–Ω–∞–ª: ' + savedChannel;
            localStorage.setItem('agora_channel', savedChannel);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–æ—Ç–æ–≤—ã
            showStatus('‚úÖ App ID –Ω–∞—Å—Ç—Ä–æ–µ–Ω! –ì–æ—Ç–æ–≤ –∫ –∑–≤–æ–Ω–∫–∞–º!', 'success');
        });
    </script>
</body>
</html>