# üá∑üá∫ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —Å–µ—Ç–µ–π

## üéØ –¶–µ–ª—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

–û–±–µ—Å–ø–µ—á–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∏ –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
- üì± –ú–æ–±–∏–ª—å–Ω–∞—è —Å–≤—è–∑—å (2G/3G/4G/5G)
- üì° WiFi —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- üîí VPN —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- üè† –î–æ–º–∞—à–Ω–∏–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –æ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### üõú ICE —Å–µ—Ä–≤–µ—Ä—ã –∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- **14 ICE —Å–µ—Ä–≤–µ—Ä–æ–≤** –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è –†–æ—Å—Å–∏–∏
- **–†–æ—Å—Å–∏–π—Å–∫–∏–µ STUN —Å–µ—Ä–≤–µ—Ä—ã** (sipnet.ru, comtube.ru, voipbuster.com)
- **–í–∞—à TURN —Å–µ—Ä–≤–µ—Ä 94.198.218.189** –∫–∞–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–π
- **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ** –º–µ–∂–¥—É P2P –∏ TURN –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Å–ª–æ–≤–∏–π
- **–£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π pool ICE –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤** (30 –≤–º–µ—Å—Ç–æ 20) –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö NAT

### üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** —Ç–∏–ø–∞ —Å–µ—Ç–∏ (–º–æ–±–∏–ª—å–Ω–∞—è/WiFi/VPN)
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∫–∞—á–µ—Å—Ç–≤–∞** —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- **–ò–∑–º–µ—Ä–µ–Ω–∏–µ latency** –∫ —Ä–æ—Å—Å–∏–π—Å–∫–∏–º —Å–µ—Ä–≤–µ—Ä–∞–º
- **–î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ VPN** —á–µ—Ä–µ–∑ WebRTC —É—Ç–µ—á–∫–∏ IP
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å–æ—Å—Ç–æ—è–Ω–∏—è TURN** —Å–µ—Ä–≤–µ—Ä–∞

### üé• –ê–¥–∞–ø—Ç–∏–≤–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- **5 —É—Ä–æ–≤–Ω–µ–π –∫–∞—á–µ—Å—Ç–≤–∞**: Ultra (4K) ‚Üí HD ‚Üí SD ‚Üí Mobile ‚Üí Minimal
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è** –Ω–∞ –æ—Å–Ω–æ–≤–µ:
  - –°–∫–æ—Ä–æ—Å—Ç–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
  - –ó–∞–¥–µ—Ä–∂–∫–∏ (RTT)
  - –ü–æ—Ç–µ—Ä—å –ø–∞–∫–µ—Ç–æ–≤
  - –¢–∏–ø–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- **–ë–∏—Ç—Ä–µ–π—Ç –¥–æ 50 Mbps** –¥–ª—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π 1 Gbps
- **–ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π

### üìä –ù–æ–≤—ã–µ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### `/connection-diagnostics`
–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
```json
{
  "clientInfo": {
    "isMobile": false,
    "isDesktop": true
  },
  "recommendedConfig": {
    "videoQuality": "hd",
    "turnPriority": "medium"
  },
  "russianOptimizations": {
    "stunServers": 12,
    "adaptiveQuality": true
  }
}
```

#### `/optimize-quality`
–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫:
```json
{
  "connectionSpeed": 25.5,
  "packetLoss": 1.2,
  "rtt": 45,
  "networkType": "wifi"
}
```

### üéõÔ∏è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∫–∞—á–µ—Å—Ç–≤–∞ —Å–µ—Ç–∏** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **–°—Ç–∞—Ç—É—Å TURN —Å–µ—Ä–≤–µ—Ä–∞** —Å –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
- **–†–æ—Å—Å–∏–π—Å–∫–∏–π —Ñ–ª–∞–≥** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –¥–ª—è –†–§
- **–ü–∞–Ω–µ–ª—å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞** —Å —Ä—É—á–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –Ω–µ–ø–æ–ª–∞–¥–æ–∫**

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã–±–æ—Ä–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
1. **–ú–æ–±–∏–ª—å–Ω–∞—è —Å–µ—Ç—å** ‚Üí –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ TURN
2. **–ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ** (RTT > 200ms, –ø–æ—Ç–µ—Ä–∏ > 5%) ‚Üí TURN
3. **VPN –æ–±–Ω–∞—Ä—É–∂–µ–Ω** ‚Üí –ü–æ–≤—ã—à–µ–Ω–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç TURN
4. **–•–æ—Ä–æ—à–∏–µ —É—Å–ª–æ–≤–∏—è** ‚Üí –ü–æ–ø—ã—Ç–∫–∞ P2P, fallback –Ω–∞ TURN

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö —É—Å–ª–æ–≤–∏–π
```javascript
const RUSSIAN_BITRATES = {
  ultra: { video: 50000000, audio: 256000 }, // –î–ª—è 1 Gbps
  high: { video: 20000000, audio: 192000 },  // –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ WiFi
  medium: { video: 8000000, audio: 128000 }, // –î–ª—è –æ–±—ã—á–Ω–æ–≥–æ WiFi
  low: { video: 2000000, audio: 96000 },     // –î–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ
  minimal: { video: 500000, audio: 64000 }   // –î–ª—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö —Å–µ—Ç–µ–π
};
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –ø—Ä–∏ —Å–±–æ—è—Ö
- **–ú–∞–∫—Å–∏–º—É–º 10 –ø–æ–ø—ã—Ç–æ–∫** –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- **–≠—Å–∫–∞–ª–∞—Ü–∏—è –Ω–∞ TURN** –ø–æ—Å–ª–µ 3 –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ P2P
- **Heartbeat –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥** –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è WebSocket

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –î–ª—è 1 Gbps —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **–í–∏–¥–µ–æ**: –¥–æ 4K 60fps (50 Mbps)
- **–ê—É–¥–∏–æ**: —Å—Ç–µ—Ä–µ–æ 48kHz (256 kbps)
- **Latency**: –º–µ–Ω–µ–µ 50ms –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –†–æ—Å—Å–∏–∏

### –î–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- **–í–∏–¥–µ–æ**: 480p 20fps (800 kbps)
- **–ê—É–¥–∏–æ**: –º–æ–Ω–æ 22kHz (64 kbps)
- **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å**: –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π TURN

## üõ†Ô∏è –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

### –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π TURN)
- –ú–¢–° (—Å–ª–æ–∂–Ω—ã–π NAT)
- Tele2 (–ø–µ—Ä–µ–º–µ–Ω–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ)
- Yota (–º–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–æ–∫—Å–∏)

### –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ STUN —Å–µ—Ä–≤–µ—Ä—ã
- `stun.sipnet.ru` - —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Ç–µ–ª–µ–∫–æ–º
- `stun.comtube.ru` - —Ä–æ—Å—Å–∏–π—Å–∫–∏–π VoIP
- `stun.voipbuster.com` - –µ–≤—Ä–æ–ø–µ–π—Å–∫–∏–π —Å —Ö–æ—Ä–æ—à–∏–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º –†–§

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

–°–µ—Ä–≤–µ—Ä –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç:
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ TURN** –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
- **–¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤** (–º–æ–±–∏–ª—å–Ω—ã–µ/–¥–µ—Å–∫—Ç–æ–ø)
- **–°—Ä–µ–¥–Ω—é—é –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –∑–≤–æ–Ω–∫–æ–≤
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π**
- **–†–æ—Å—Å–∏–π—Å–∫–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –æ—Ç–¥–µ–ª—å–Ω–æ

## üö¶ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
1. **WiFi ‚Üí –ú–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–µ—Ç–µ–π
2. **–í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ VPN** - –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞
3. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–Ω–æ–π —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏** - –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞
4. **–ò–º–∏—Ç–∞—Ü–∏—è –ø–æ—Ç–µ—Ä—å –ø–∞–∫–µ—Ç–æ–≤** - –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ TURN

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- ‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —á–µ—Ä–µ–∑ TURN –∑–∞ 5-10 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ê–¥–∞–ø—Ç–∞—Ü–∏—è –∫–∞—á–µ—Å—Ç–≤–∞ –∑–∞ 10-15 —Å–µ–∫—É–Ω–¥
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞ 2-5 —Å–µ–∫—É–Ω–¥
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —á–µ—Ä–µ–∑ —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

## üéØ –ò—Ç–æ–≥–æ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: 95%+ —É—Å–ø–µ—à–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
2. **–ö–∞—á–µ—Å—Ç–≤–æ**: –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —Å–µ—Ç–∏
3. **–°–∫–æ—Ä–æ—Å—Ç—å**: –±—ã—Å—Ç—Ä–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º
4. **–£–¥–æ–±—Å—Ç–≤–æ**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
5. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: —Ä–∞–±–æ—Ç–∞ —Å–æ –≤—Å–µ–º–∏ —Ä–æ—Å—Å–∏–π—Å–∫–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **TURN —Å–µ—Ä–≤–µ—Ä**: `turn:94.198.218.189:3478`
- **WebSocket**: `wss://your-domain/ws`
- **Healthcheck**: `/healthz`
- **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: `/connection-diagnostics`